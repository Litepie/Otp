# Environment Configuration

This file contains all available environment variables for the Laravel OTP package.

## Basic Configuration

```env
# Default OTP Settings
OTP_DEFAULT_LENGTH=6
OTP_DEFAULT_FORMAT=numeric
OTP_DEFAULT_EXPIRES_IN=300
OTP_DEFAULT_MAX_ATTEMPTS=3
OTP_DEFAULT_CHANNELS=email

# OTP Signing Secret (Important: Use a strong, unique secret)
OTP_SIGNING_SECRET=your-secret-key-here
OTP_SIGNING_ALGORITHM=sha256
```

## OTP Type Specific Settings

### Login OTP
```env
OTP_LOGIN_LENGTH=6
OTP_LOGIN_FORMAT=numeric
OTP_LOGIN_EXPIRES_IN=300
OTP_LOGIN_MAX_ATTEMPTS=3
OTP_LOGIN_CHANNELS=email
OTP_LOGIN_RATE_LIMIT_ATTEMPTS=5
OTP_LOGIN_RATE_LIMIT_DECAY=60
```

### Email Verification OTP
```env
OTP_EMAIL_VERIFICATION_LENGTH=6
OTP_EMAIL_VERIFICATION_FORMAT=numeric
OTP_EMAIL_VERIFICATION_EXPIRES_IN=600
OTP_EMAIL_VERIFICATION_MAX_ATTEMPTS=5
OTP_EMAIL_VERIFICATION_CHANNELS=email
OTP_EMAIL_VERIFICATION_RATE_LIMIT_ATTEMPTS=3
OTP_EMAIL_VERIFICATION_RATE_LIMIT_DECAY=30
```

### Password Reset OTP
```env
OTP_PASSWORD_RESET_LENGTH=8
OTP_PASSWORD_RESET_FORMAT=alphanumeric
OTP_PASSWORD_RESET_EXPIRES_IN=900
OTP_PASSWORD_RESET_MAX_ATTEMPTS=3
OTP_PASSWORD_RESET_CHANNELS=email
OTP_PASSWORD_RESET_RATE_LIMIT_ATTEMPTS=3
OTP_PASSWORD_RESET_RATE_LIMIT_DECAY=60
```

### Two-Factor Authentication OTP
```env
OTP_TWO_FACTOR_LENGTH=6
OTP_TWO_FACTOR_FORMAT=numeric
OTP_TWO_FACTOR_EXPIRES_IN=180
OTP_TWO_FACTOR_MAX_ATTEMPTS=3
OTP_TWO_FACTOR_CHANNELS=sms,email
OTP_TWO_FACTOR_RATE_LIMIT_ATTEMPTS=5
OTP_TWO_FACTOR_RATE_LIMIT_DECAY=30
```

### Phone Verification OTP
```env
OTP_PHONE_VERIFICATION_LENGTH=6
OTP_PHONE_VERIFICATION_FORMAT=numeric
OTP_PHONE_VERIFICATION_EXPIRES_IN=300
OTP_PHONE_VERIFICATION_MAX_ATTEMPTS=3
OTP_PHONE_VERIFICATION_CHANNELS=sms
OTP_PHONE_VERIFICATION_RATE_LIMIT_ATTEMPTS=3
OTP_PHONE_VERIFICATION_RATE_LIMIT_DECAY=60
```

## Rate Limiting
```env
OTP_GLOBAL_RATE_LIMIT_ATTEMPTS=5
OTP_GLOBAL_RATE_LIMIT_DECAY=60
```

## Email Channel Configuration
```env
OTP_EMAIL_USE_NOTIFICATIONS=true
OTP_EMAIL_TEMPLATE=otp::emails.otp
OTP_EMAIL_SUBJECT="Your OTP Code"
OTP_EMAIL_MESSAGE="Your verification code is: {code}"
OTP_EMAIL_GREETING="Hello!"
OTP_EMAIL_FOOTER="If you did not request this code, please ignore this email."
```

## SMS Channel Configuration
```env
# SMS Provider (log, nexmo, twilio)
OTP_SMS_PROVIDER=log
OTP_SMS_MESSAGE="Your OTP code is: {code}"

# Nexmo/Vonage Settings
NEXMO_KEY=your-nexmo-key
NEXMO_SECRET=your-nexmo-secret
NEXMO_FROM=YourApp

# Twilio Settings
TWILIO_SID=your-twilio-sid
TWILIO_TOKEN=your-twilio-token
TWILIO_FROM=your-twilio-number
```

## Cleanup Configuration
```env
OTP_CLEANUP_ENABLED=true
OTP_CLEANUP_SCHEDULE=daily
OTP_CLEANUP_DELETE_AFTER_DAYS=7
```

## Queue Configuration
```env
OTP_QUEUE_ENABLED=true
OTP_QUEUE_CONNECTION=redis
OTP_QUEUE_NAME=default
```

## Logging Configuration
```env
OTP_LOGGING_ENABLED=true
OTP_LOG_CHANNEL=stack
OTP_LOG_LEVEL=info
```

## Production Recommendations

### Security
- Use a strong, unique `OTP_SIGNING_SECRET`
- Set appropriate rate limits
- Use shorter expiration times for sensitive operations
- Enable logging for monitoring

### Performance
- Enable queue processing for better performance
- Use Redis for cache and queues
- Set up automatic cleanup

### Monitoring
- Enable logging
- Monitor rate limit hits
- Track failed verification attempts
- Set up alerts for suspicious activity

## Example Production .env
```env
# OTP Configuration
OTP_SIGNING_SECRET=base64:YourStrongSecretKeyHere...
OTP_DEFAULT_CHANNELS=email
OTP_SMS_PROVIDER=twilio
OTP_QUEUE_ENABLED=true
OTP_QUEUE_CONNECTION=redis
OTP_LOGGING_ENABLED=true

# Twilio (for SMS)
TWILIO_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_TOKEN=your-twilio-auth-token
TWILIO_FROM=+1234567890

# Tighter security for production
OTP_LOGIN_EXPIRES_IN=180
OTP_LOGIN_MAX_ATTEMPTS=3
OTP_LOGIN_RATE_LIMIT_ATTEMPTS=3
OTP_LOGIN_RATE_LIMIT_DECAY=120
```
